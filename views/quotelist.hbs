<div class="row bg4 hero-image">
    <div class="col-sm-12 text-center hero-text ">
        <h3 class="text-white">Request Bids</h3>
        <h5 class="text-white">Click, Click... Send!</h5>
    </div>
</div>

<div class="row threeHeight pad-top mb-4 d-flex justify-content-around mx-auto">
    <!-- Screen for form -->
    {{#if party}}
    <div class="col-md-8 col-12 text-center">
        <h3 class="text-blue text-center mb-4">{{party.name}}</h3>
      <form id="contactForm" onsubmit="return checkform(this)"class="form-group text-right mx-auto" method="post" action="/quotelist?eventId={{party._id}}">
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Date</label>
            <div class="col-10">
              <input type="date" class="form-control otherInput" name="date" placeholder="Enter Event Date" value="{{party.date}}" min={{min}} required oninvalid="this.setCustomValidity('A Date is requested')"
              oninput="setCustomValidity('')">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Start Time</label>
            <div class="col-10">
              <select id="time" class="form-control" name="time" required oninvalid="this.setCustomValidity('An Estimated Start Time is requested')" oninput="setCustomValidity('')">
                    <option value="" disabled selected>
                            Start Time
                    </option>
                    <option>12:00 PM</option>
                    <option>12:30 PM</option>
                    <option>01:00 PM</option>
                    <option>01:30 PM</option>
                    <option>02:00 PM</option>
                    <option>02:30 PM</option>
                    <option>03:00 PM</option>
                    <option>03:30 PM</option>
                    <option>04:00 PM</option>
                    <option>04:30 PM</option>
                    <option>05:00 PM</option>
                    <option>05:30 PM</option>
                    <option>06:00 PM</option>
                    <option>06:30 PM</option>
                    <option>07:00 PM</option>
                    <option>07:30 PM</option>
                    <option>08:00 PM</option>
                    <option>08:30 PM</option>
                    <option>09:00 PM</option>
                    <option>09:30 PM</option>
                    <option>10:00 PM</option>
                    <option>10:30 PM</option>
                    <option>11:00 PM</option>
                    <option>11:30 PM</option>
                    <option>12:00 AM</option>
                    <option>12:30 AM</option>
                    <option>01:00 AM</option>
                    <option>01:30 AM</option>
                    <option>02:00 AM</option>
                    <option>02:30 AM</option>
                    <option>03:00 AM</option>
                    <option>03:30 AM</option>
                    <option>04:00 AM</option>
                    <option>04:30 AM</option>
                    <option>05:00 AM</option>
                    <option>05:30 AM</option>
                    <option>06:00 AM</option>
                    <option>06:30 AM</option>
                    <option>07:00 AM</option>
                    <option>07:30 AM</option>
                    <option>08:00 AM</option>
                    <option>08:30 AM</option>
                    <option>09:00 AM</option>
                    <option>09:30 AM</option>
                    <option>10:00 AM</option>
                    <option>10:30 AM</option>
                    <option>11:00 AM</option>
                    <option>11:30 AM</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Hours</label>
            <div class="col-10">
              <input type='number' class="form-control otherInput" name="hours" value="{{party.hours}}"  placeholder="Number of Hours" required oninvalid="this.setCustomValidity('An Estimated Number of Hours is requested')"
                oninput="setCustomValidity('')">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Guests</label>
            <div class="col-10">
              <input type='number' class="form-control otherInput" name="guestCount" value="{{party.guestCount}}" placeholder="Estimated Guest Count" required oninvalid="this.setCustomValidity('An Estimated Guest Count is requested')"
              oninput="setCustomValidity('')">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Price Package</label>
            <div class="col-10">
                <select id="price" class="form-control" name="price" required oninvalid="this.setCustomValidity('A Pricing Preference is requested')"
                oninput="setCustomValidity('')">
                    <option value="" disabled selected>
                        Price Preference
                    </option>
                    </option>
                    <option>Open Bar</option>
                    <option>Minimum Spend</option>
                </select>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">First Name</label>
            <div class="col-4">
              <input type="text" class="form-control otherInput" name="fname" value="{{fname}}"  placeholder="First Name" required oninvalid="this.setCustomValidity('Your First Name is requested')"
              oninput="setCustomValidity('')">
            </div>
            <label class="col-2 col-form-label text-left mt-2">Last Name</label>
            <div class="col-4">
              <input type="text" class="form-control otherInput" name="lname" value="{{lname}}" placeholder="Last Name" required oninvalid="this.setCustomValidity('Your Last Name is requested')"
              oninput="setCustomValidity('')">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">Email</label>
            <div class="col-10">
              <input type="email" class="form-control otherInput" name="email" value="{{email}}" placeholder="Email" required oninvalid="this.setCustomValidity('Your Email is requested')"
              oninput="setCustomValidity('')">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-2 col-form-label text-left mt-2">More</label>
            <div class="col-10">
                <textarea rows="3" class="form-control" name="more" placeholder="Share any additional details you'd like about your event here. (Note this message is intended for all venues related to your selected event.)" id="message"></textarea>
            </div>
          </div>
        <button id="checkForm" class="btn btn-primary mt-2" type="button" data-toggle="modal" data-target="#confirmModal">Next</button>
        <button id="contactBtn" type="submit" style="display:none"></button>

        <!-- Confirmation Modal  -->
        <div class="modal " id="confirmModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title text-blue"><b>Confirmation</b></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body text-left">
                  <p class="text-muted">Do all of the venues below look correct? You can make edits in your <a href="/events">my events</a> page. If ready, let's go!</p>
                  <ul>
                      {{#each party.vEvent}}
                      <li class="text-blue">{{this.name}}</li>
                      {{/each}}
                  </ul>

              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Make Changes</button>
                <button type="button" class="btn btn-primary" id="request-bids">Request Bids</button>
              </div>
            </div>
          </div>
        </div>

      </form>

    </div>

      <!-- Screen to select an event -->
    {{else if events.length}}
        <div class="col-md-4 col-12">
            <h2 class="section-heading pt-5 text-yellow vertMid"> Select an Event
                <span class="fa fa-arrow-right" aria-hidden="true"></span>
            </h2>
        </div>
        <div class="col-md-8 col-12 pb-5 d-flex justify-content-center">
            <div class="row flexgrow">
            {{#each events}}
                <div class="col-md-6 col-12">
                    <div class="card section-blue m-2 noborder">
                        <a href="/quotelist?eventId={{this._id}}">
                            <h3 class="text-white text-center p-2">{{this.name}}</h3>
                        </a>
                    </div>
                </div>
            {{/each}}
            </div>
        </div>
    {{else}}
        <div class="col-sm-6 offset-3 section-transparentB p-3 text-white mx-auto">
            <h2 class="section-heading">Oh Hey There!</h2>
            <h4 class="text-darkerBlue text-center"><b>we're happy you're an eager beaver</b></h4></br></br>
            <div class="col-sm-6 offset-3 text-left">
                <h6> We'd love to get bids for you!</h6></br>
                <h6> First browse our venues and when you find ones you like, feel free to tag them to your own curated events. </h6></br>
                <h6> Then we can get going here!</h6></br>
            </div>
        </div>
    {{/if}}
</div>
